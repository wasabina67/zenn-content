---
title: "SQL Serverの3種類のタイムアウトを理解する"
emoji: "🗄️"
type: "tech"
topics: ["sqlserver", "timeout"]
published: true
published_at: 2026-02-10
---

## Connection Timeout
- 接続タイムアウト
- サーバーへの接続確立までの待ち時間
- ネットワークの問題やサーバーが応答しない場合に発生
- 接続文字列で設定
- デフォルト値: 15秒

```csharp
// 接続文字列で30秒に設定
var connectionString = "Server=myServer;Database=myDB;Connection Timeout=30;";
```

## Command Timeout / Query Timeout
- コマンドタイムアウト / クエリタイムアウト
- 接続は成功したけど、SQL文の実行完了までの待ち時間
- 重いクエリやロックで長時間かかる場合に発生
- コマンドオブジェクトで設定
- デフォルト値: 30秒

```csharp
// ADO.NETで60秒に設定
using var command = new SqlCommand(sql, connection);
command.CommandTimeout = 60; // 秒単位
```

## Remote Query Timeout
- リモートクエリタイムアウト
- リンクサーバー経由でのクエリ実行の待ち時間
- リンクサーバー先のサーバーが遅い場合やネットワーク遅延で発生
- sp_configureで設定
- デフォルト値: 600秒（10分）

```sql
-- 1200秒（20分）に設定
EXEC sp_configure 'remote query timeout', 1200;
RECONFIGURE;
```
